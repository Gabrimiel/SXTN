<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SXTN Player - Stem Mixer</title>
    <link rel="stylesheet" href="styles.css">
    </head>
<body>

    <audio id="audio-player" class="player-hidden"></audio>
    <audio id="stem-vocals" class="stem-player player-hidden"></audio>
    <audio id="stem-bass" class="stem-player player-hidden"></audio>
    <audio id="stem-drums" class="stem-player player-hidden"></audio>
    <audio id="stem-other" class="stem-player player-hidden"></audio>

    <div id="side-menu" class="side-menu">
        <button class="close-btn" onclick="toggleSideMenu()">‚úñÔ∏è</button>
        <h2>ADMIN : Importer Morceau</h2>
        <p>Entrez les chemins d'acc√®s URL (ex: audio/stems/Nom_du_morceau)</p>
        
        <label for="music-title">Titre du Morceau :</label>
        <input type="text" id="music-title" placeholder="Nom du titre" required>

        <label for="music-description">Artiste :</label>
        <input type="text" id="music-description" placeholder="Nom de l'artiste" required>
        
        <label for="music-artist">Album :</label>
        <input type="text" id="music-artist" placeholder="Nom de l'album" required>

        <label for="cover-path">Chemin de l'image de couverture (URL) :</label>
        <input type="text" id="cover-path" placeholder="ex: assets/covers/album_art.jpg">

        <hr>

        <label for="stem-mode-option" style="display: block; margin-bottom: 10px;">
            <input type="checkbox" id="stem-mode-option" onchange="toggleStemInputs()"> Mode Stem Activ√©
        </label>
        
        <div id="simple-audio-fields">
            <label for="audio-path">Chemin du fichier audio principal (URL) :</label>
            <input type="text" id="audio-path" placeholder="ex: audio/morceau.mp3">
        </div>

        <div id="stem-fields" style="display: none;">
            <label for="stem-base-path">Chemin de base des Stems (sans suffixe) :</label>
            <input type="text" id="stem-base-path" placeholder="ex: audio/stems/Mon_Titre">
            <p style="font-size: 0.8em; color: #aaa; margin-top: 5px;">Le script ajoutera automatiquement **_Vocals.mp3**, **_Bass.mp3**, etc.</p>
        </div>

        <button onclick="addTrack()" class="add-track-btn">Ajouter √† la Biblioth√®que</button>
    </div>

    <header>
        <div class="menu-left">
            <button id="admin-menu-btn" onclick="toggleSideMenu()">‚ò∞</button>
        </div>
        <h1>SXTN Player</h1>
        <div class="menu-right">
            <button id="admin-access-btn" onclick="showAdminPrompt()">ADMIN ACCESS</button>
        </div>
    </header>

    <main id="library-main">
        <h2>LIBRARY</h2>
        <div id="album-carousel"></div>
        <div id="tracklist-container"><ul id="tracklist-ul"></ul></div>
    </main>

    <footer>
        <div id="controls-left">
            <img id="current-cover-footer" src="placeholder.png" alt="Couverture de l'album" class="footer-cover">
            <div class="track-info">
                <div id="current-title-footer">Aucun Morceau</div>
                <div id="current-artist-footer"></div>
            </div>
            <button id="delete-track-button" style="display: none;" onclick="deleteTrack(currentPlaylist[currentIndex].id)">üóëÔ∏è</button>
        </div>

        <div id="controls-center">
            <div class="playback-buttons">
                <button onclick="playPrevious()">‚èÆÔ∏è</button>
                <button onclick="seekBackward(10)">‚è™ 10s</button>
                <button id="play-pause-button" onclick="togglePlayPause()">‚ñ∂Ô∏è</button>
                <button onclick="seekForward(10)">‚è© 10s</button>
                <button onclick="playNext()">‚è≠Ô∏è</button>
            </div>
            
            <div class="progress-bar-container">
                <span id="time-display">0:00</span>
                <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01">
                <span id="duration-display">0:00</span>
            </div>

            <div id="stem-controls" style="display: none;">
                <div id="stem-container" class="stem-buttons-container">
                    </div>
            </div>
        </div>
        
        <div id="controls-right">
            </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Fonction pour g√©rer l'affichage des champs Stem/Audio Simple
        function toggleStemInputs() {
            const isStem = document.getElementById('stem-mode-option').checked;
            document.getElementById('stem-fields').style.display = isStem ? 'block' : 'none';
            document.getElementById('simple-audio-fields').style.display = isStem ? 'none' : 'block';
        }
    </script>
</body>
</html>
